<div class="container">
  <div class="row">
    {{! Kitsu Library Content Ad }}
    {{! @TODO(Vevix): Hookup top ad }}
    <div class="library-ad col-sm-12 no-padding-right">
      {{#unless session.account.isPro}}
        {{ad-unit}}
      {{/unless}}
    </div>

    <div class="library-content col-sm">
      {{! Search }}
      {{users/library/library-search title
        user=user
        update=(perform searchTask)
        tagName="section"
        class="library-search"
      }}

      {{! Library Actions }}
      <section class="library-result-header clearfix">
        {{! Library Layout Buttons }}
        <span class="list-type">
          <a href="#" class={{if (eq layoutStyle "grid") "active"}} {{action (mut layoutStyle) "grid"}}>
            {{~svg-jar "grid"~}}
          </a>
          <a href="#" class={{if (eq layoutStyle "list") "active"}} {{action (mut layoutStyle) "list"}}>
            {{~svg-jar "list"~}}
          </a>
        </span>

        {{! Library Sort }}
        {{users/library/library-sorting
          sort=sort
          update=(action (mut sort))
          class="library-filters"
        }}
      </section>

      <section class="bulk-edit is-sticky clearfix">
        <div class="media-selected">
          <span class="descriptor">5 anime selected</span>
          <a class="select-amount" href="#">Select All</a>
          <span class="seperator"> Â· </span>
          <a class="select-amount" href="#">Select None</a>
        </div>

        <div class="bulk-cta">
          <a class="bulk-btn secondary" href="#">Remove <strong>5</strong></a>
          <a class="bulk-btn dropdown-toggle" href="#" id="bulkMove" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Move <strong>15</strong> to...

          </a>

          <div class="dropdown-menu" aria-labelledby="bulkMove">
            <a class="dropdown-item" href="#">Currently Watching</a>
            <a class="dropdown-item" href="#">Want to Watch</a>
            <a class="dropdown-item" href="#">Completed</a>
            <a class="dropdown-item" href="#">On Hold</a>
            <a class="dropdown-item" href="#">Dropped</a>
          </div>
        </div>
      </section>

      {{! Library Entries }}
      {{#infinite-pagination onPagination=(route-action "onPagination")}}
        {{component (concat "users/library/library-" layoutStyle)
          media=media
          libraryEntries=libraryEntries
          saveEntry=(route-action "saveEntry")
          removeEntry=(route-action "removeEntry")
        }}
      {{/infinite-pagination}}
    </div>

    {{! Sidebar }}
    {{users/library/library-sidebar
      user=user
      media=media
      status=status
      updateMedia=(action (mut media))
      updateStatus=(action (mut status))
      class="library-sidebar col-sm"
    }}
  </div>
</div>

{{#if didUndo}}
  Undone!
{{/if}}

{{#if didUpdate}}
  <div class="mark-watched-prompt">
    {{t "components.episodes.updated" number=episode.number}}
    {{#if undoLibraryEntryUpdate.isRunning}}
      {{loading-spinner size="small"}}
    {{else}}
      <a {{action (perform undoLibraryEntryUpdate)}} class="prompt-cta" href="#">{{t "components.episodes.undo"}}</a>
    {{/if}}
  </div>
{{/if}}

{{#if showUpdatePrompt}}
  <div class="mark-watched-prompt">
    {{t "components.episodes.update" number=episode.number}}
    {{#if updateLibraryEntry.isRunning}}
      {{loading-spinner size="small"}}
    {{else}}
      <a {{action (perform updateLibraryEntry true)}} class="prompt-cta" href="#">
        {{t "components.episodes.watched"}}
      </a>
    {{/if}}
  </div>
{{/if}}

{{#if showJoinPrompt}}
  <div class="join-prompt">
    {{t "components.episodes.track"}}
    <a {{action (toggle "authOpened" this)}}>
      {{t "components.episodes.join"}}
    </a>
  </div>
{{/if}}

{{! Authentication Modal }}
{{#if authOpened}}
  {{to-elsewhere named="modal" send=(component "application/auth-onboarding"
    modalId="auth-modal"
    component="social-auth"
    onClose=(toggle-action "authOpened" this))}}
{{/if}}

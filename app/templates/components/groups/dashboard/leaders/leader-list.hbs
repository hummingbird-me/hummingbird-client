<div class="leader-chat--header">
  <h6>{{t "groups.dashboard.leaders.list.header"}}</h6>
</div>
<div class="leader-table-wrapper">
  <table class="leader-table">
    <tbody>
      {{#if getLeadersTask.isRunning}}
        <div class="text-xs-center m-t-2">
          {{loading-spinner size="small"}}
        </div>
      {{else}}
        {{#infinite-pagination onPagination=(action "onPagination")}}
          {{#each (reject-by "rank" "pleb" leaders) as |leader|}}
            {{groups/dashboard/leaders/leader-list-item leader=leader tagName="tr"}}
          {{/each}}
        {{/infinite-pagination}}
      {{/if}}
    </tbody>
  </table>
</div>

<div class="leader-chat--footer add-leader">
  {{one-way-input
    update=(action (mut userToAdd))
    class="leader-input"
    placeholder=(t "groups.dashboard.leaders.list.add-placeholder")
  }}
  <button class="btn btn-primary" onclick={{perform findGroupMemberTask}}>
    {{#if findGroupMemberTask.isRunning}}
      {{loading-spinner size="small"}}
    {{else}}
      {{t "groups.dashboard.leaders.list.add-btn"}}
    {{/if}}
  </button>
</div>

{{#if showModal}}
  {{to-elsewhere named="modal" send=(component "groups/dashboard/leaders/leader-permissions-modal"
    leader=foundMember
    onSave=(action "addNewMember" foundMember)
    onClose=(toggle-action "showModal" this)
  )}}
{{/if}}
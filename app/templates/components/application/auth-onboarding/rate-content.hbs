<div class="modal-wrapper">
  <div class="auth-section active">
    <h6 class="auth-section-title">{{t "onboarding.rate-content.title"}}</h6>
    <p class="auth-section-helper">{{t "onboarding.rate-content.info"}}</p>
  </div>

  <ul class="nav nav-tabs" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" data-toggle="tab" href="#anime" role="tab" {{action "updateTab" "anime"}}>
        {{t "onboarding.rate-content.anime"}}
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#manga" role="tab" {{action "updateTab" "manga"}}>
        {{t "onboarding.rate-content.manga"}}
      </a>
    </li>
  </ul>

  <div class="onboarding-search">
    {{one-way-search searchQuery
      update=(perform updateSearchQuery)
      placeholder=(t "onboarding.rate-content.placeholder")}}
  </div>

  <div class="tab-content container onboarding-media-wrapper">
    <div class="tab-pane active row" id="anime" role="tabpanel">
      <div class="modal-grid row">
        {{#if queryTask.isRunning}}
          <div class="m-t-1 text-xs-center w-100">
            {{loading-spinner size="large"}}
          </div>
        {{else}}
          {{#infinite-pagination onPagination=(action "onPagination")}}
            {{#each media as |anime|}}
              {{application/auth-onboarding/rate-content/item
                class="onboarding-media col-sm-4"
                item=anime
                onUpdate=(action 'libraryEntryDoingUpdate')
              }}
            {{/each}}
          {{/infinite-pagination}}
        {{/if}}
      </div>
    </div>

    <div class="tab-pane row" id="manga" role="tabpanel">
      <div class="modal-grid row">
        {{#if queryTask.isRunning}}
          <div class="m-t-1 text-xs-center w-100">
            {{loading-spinner size="large"}}
          </div>
        {{else}}
          {{#infinite-pagination onPagination=(action "onPagination")}}
            {{#each media as |manga|}}
              {{application/auth-onboarding/rate-content/item
                class="onboarding-media col-sm-3"
                item=manga
                onUpdate=(action 'libraryEntryDoingUpdate')
              }}
            {{/each}}
          {{/infinite-pagination}}
        {{/if}}
      </div>
    </div>
  </div>

  <div class="progress-section">
    <progress class="progress" value={{numRated}} max="5"></progress>
    <button type="button" class="button button--primary" disabled={{if (not-eq numRatedLeft 0) "disabled"}} {{action "changeComponent" "find-friends"}}>
      {{#if (not-eq numRatedLeft 0)}}
        {{t "onboarding.rate-content.rate"}}
      {{else}}
        {{t "onboarding.rate-content.continue"}}
      {{/if}}
    </button>
  </div>
</div>
